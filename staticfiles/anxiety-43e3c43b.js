var y=(u,l,r)=>new Promise((p,i)=>{var h=e=>{try{a(r.next(e))}catch(n){i(n)}},d=e=>{try{a(r.throw(e))}catch(n){i(n)}},a=e=>e.done?p(e.value):Promise.resolve(e.value).then(h,d);a((r=r.apply(u,l)).next())});import{a as E,v as te,t as Q,d as P,r as k,o as de,b as v,c as S,w as B,e as T,f as I,g as t,h as g,n as H,i as A,j as M,k as J,l as W,m as ne,T as D,u as Z,p as R,q as oe,s as K,x as U,F as le,y as se,z as ee,A as ue,B as q,C as ce,D as ve,E as me,G as pe}from"./config-4f765b06.js";let F=null;const he=document.querySelector("[name=csrfmiddlewaretoken]").value;E.interceptors.request.use(u=>(u.headers["X-CSRFTOKEN"]=he,u),u=>Promise.reject(u));try{F=JSON.parse(document.getElementById("ANXIETY-API-BASE-URL").textContent)}catch(u){console.log(`Couldn't parse ANXIETY-API-BASE-URL: ${u}`)}function G(){return{title:"",locked:!1,node_id:te(),children:[]}}function fe(){return[G()]}function X(u=null,l=null,r=null){const p=te();return{tree_id:u||p,tree_name:l||"New Tree",tree_data:r||fe(),date_modified:Q(new Date),date_created:Q(new Date)}}function ge(u){return y(this,null,function*(){if(u)try{const{data:l,status:r}=yield E.post(F,{},{headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0});return l.tree_id}catch(l){return E.isAxiosError(l)?(console.log("Error while creating tree: ",l.message),l.message):(console.log("Error while creating tree: ",l),"An unexpected error occurred")}else return X().tree_id})}function we(u,l){return y(this,null,function*(){if(l)try{const{status:r}=yield E.patch(F+u.tree_id,{tree_name:u.tree_name,tree_data:u.tree_data},{headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0});return r}catch(r){return E.isAxiosError(r)?(console.log("Error while updating tree: ",r.message),r.message):(console.log("Unexpected error while updating tree: ",r),"An unexpected error occurred")}else return 200})}function xe(u,l){return y(this,null,function*(){if(l)try{const{status:r}=yield E.delete(F+u,{withCredentials:!0});return r}catch(r){return E.isAxiosError(r)?(console.log("Error while deleting tree: ",r.message),r.message):(console.log("Unexpected error while deleting tree: ",r),"An unexpected error occurred")}else return 204})}const _e={class:"flex w-full min-w-0 gap-x-1 justify-self-start"},ye={class:"flex"},ke={key:0,class:"h-6 w-6 text-textblackdimmer2",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},be=t("path",{d:"M7 10.029C7.471 10 8.053 10 8.8 10h6.4c.747 0 1.329 0 1.8.029m-10 0c-.588.036-1.006.117-1.362.298a3 3 0 0 0-1.311 1.311C4 12.28 4 13.12 4 14.8v1.4c0 1.68 0 2.52.327 3.162a3 3 0 0 0 1.311 1.311C6.28 21 7.12 21 8.8 21h6.4c1.68 0 2.52 0 3.162-.327a3 3 0 0 0 1.311-1.311C20 18.72 20 17.88 20 16.2v-1.4c0-1.68 0-2.52-.327-3.162a3 3 0 0 0-1.311-1.311c-.356-.181-.774-.262-1.362-.298m-10 0V8a5 5 0 0 1 10 0v2.029",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Te=[be],Ce=t("path",{d:"M16.584 6A5.001 5.001 0 0 0 7 8v2.029m0 0C7.471 10 8.053 10 8.8 10h6.4c1.68 0 2.52 0 3.162.327a3 3 0 0 1 1.311 1.311C20 12.28 20 13.12 20 14.8v1.4c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311C17.72 21 16.88 21 15.2 21H8.8c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C4 18.72 4 17.88 4 16.2v-1.4c0-1.68 0-2.52.327-3.162a3 3 0 0 1 1.311-1.311c.356-.181.774-.262 1.362-.298Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Be=[Ce],Ie={class:"flex w-full"},$e=["id"],Me={class:"flex text-textblackdimmer"},Ae=t("svg",{viewBox:"0 0 24 24",class:"h-8 w-8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"m9 13 3 3m0 0 3-3m-3 3V8M7.2 20h9.6c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874C20 18.48 20 17.92 20 16.8V7.2c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C18.48 4 17.92 4 16.8 4H7.2c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C4 5.52 4 6.08 4 7.2v9.6c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874C5.52 20 6.08 20 7.2 20Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Ee=[Ae],Ne=t("svg",{viewBox:"0 0 24 24",class:"h-8 w-8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"m13 15 3-3m0 0-3-3m3 3H8m-.8 8h9.6c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874C20 18.48 20 17.92 20 16.8V7.2c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C18.48 4 17.92 4 16.8 4H7.2c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C4 5.52 4 6.08 4 7.2v9.6c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874C5.52 20 6.08 20 7.2 20Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Le=[Ne],He=t("svg",{viewBox:"0 0 24 24",class:"h-8 w-8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"m12 9.5 5 5m0-5-5 5m-7.492-.545 2.932 3.8c.352.457.528.685.75.85a2 2 0 0 0 .652.32c.266.075.554.075 1.131.075H17.8c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874C21 17.48 21 16.92 21 15.8V8.2c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C19.481 5 18.92 5 17.8 5H9.973c-.577 0-.865 0-1.13.075a2 2 0 0 0-.653.32c-.222.165-.398.393-.75.85l-2.932 3.8c-.54.7-.81 1.05-.913 1.435a2 2 0 0 0 0 1.04c.104.385.374.735.913 1.435Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Se=[He],je=P({__name:"TreeNodeComponent",props:{node:{},loggedIn:{type:Boolean},hideUncontrollable:{type:Boolean},nodeType:{},singleNodeLeft:{type:Boolean},parentNodeId:{},parentNodeLocked:{type:Boolean}},emits:["childBtnHandler","deleteBtnHandler","siblingBtnHandler"],setup(u,{emit:l}){const r=u,p=k(!1),i=k(!1),h=k(!1);function d(){let e=document.getElementById(`${r.node.node_id}-titleInput`);e.style.height="18px",e.style.height=e.scrollHeight+"px"}function a(){return y(this,null,function*(){i.value=!0,yield K(),d()})}return de(()=>{d()}),(e,n)=>(v(),S(oe,null,{default:B(()=>[T(t("li",{class:H({"border-l border-textblackdimmer2 py-1.5 ml-3 sm:ml-3 pl-4 sm:pl-4":e.nodeType!=="root"})},[t("div",{class:"flex justify-between gap-x-1 group text-textblackdim",onMouseover:n[8]||(n[8]=s=>p.value=!0),onMouseleave:n[9]||(n[9]=s=>p.value=!1)},[t("div",_e,[t("div",ye,[t("button",{class:"transition duration-100 ease-out text-textblackdimmer hover:text-black",onClick:n[0]||(n[0]=s=>e.node.locked=!e.node.locked)},[e.node.locked?(v(),g("svg",ke,Te)):e.node.locked?A("",!0):(v(),g("svg",{key:1,class:H(["h-6 w-6",{"text-textblackdimmer2":e.parentNodeLocked}]),viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Be,2))])]),t("div",Ie,[M(D,null,{default:B(()=>[T(t("textarea",{onKeydown:[n[1]||(n[1]=J(W(s=>l("siblingBtnHandler",e.node.node_id),["exact","prevent","stop"]),["enter"])),n[2]||(n[2]=J(W(s=>l("childBtnHandler",e.node.node_id),["exact","prevent","stop"]),["tab"]))],onInput:d,class:H(["w-full resize-none rounded px-2 py-2 align-middle text-sm transition duration-300 ease-out bg-backg placeholder-textblackdimmer2 focus:outline-none",{"text-textblackdimmer2 line-through":e.parentNodeLocked||e.node.locked,"bg-primarylight":i.value}]),placeholder:"âœŽ...",rows:"1","onUpdate:modelValue":n[3]||(n[3]=s=>e.node.title=s),type:"text",id:`${e.node.node_id}-titleInput`,onFocusin:a,onFocusout:n[4]||(n[4]=s=>i.value=!1)},null,42,$e),[[ne,e.node.title]])]),_:1})])]),T(t("div",Me,[t("button",{class:"transition duration-100 ease-out hover:text-black",onClick:n[5]||(n[5]=s=>l("siblingBtnHandler",e.node.node_id))},Ee),t("button",{class:"transition duration-100 ease-out hover:text-black",onClick:n[6]||(n[6]=s=>l("childBtnHandler",e.node.node_id))},Le),T(t("button",{class:"transition duration-100 ease-out hover:text-black",onClick:n[7]||(n[7]=s=>{l("deleteBtnHandler",Z(r).node.node_id),h.value=!0})},Se,512),[[I,!e.singleNodeLeft||e.nodeType!=="root"]])],512),[[I,p.value||i.value]])],32),e.node.children.length>0?(v(),S(R(re),{key:0,nodes:e.node.children,"logged-in":e.loggedIn,"hide-uncontrollable":e.hideUncontrollable,"node-type":"child","parent-node-id":e.node.node_id,"parent-node-locked":e.parentNodeLocked||e.node.locked},null,8,["nodes","logged-in","hide-uncontrollable","parent-node-id","parent-node-locked"])):A("",!0)],2),[[I,!(e.node.locked&&e.hideUncontrollable)&&!h.value]])]),_:1}))}}),re=P({__name:"TreeComponent",props:{nodes:{},loggedIn:{type:Boolean},hideUncontrollable:{type:Boolean},nodeType:{},parentNodeId:{},parentNodeLocked:{type:Boolean}},setup(u){const l=u,r=U(()=>l.nodes.length===1);function p(d){return y(this,null,function*(){const a=l.nodes.findIndex(n=>n.node_id===d),e=G();a!==-1&&l.nodes[a].children.push(e),yield K(),document.getElementById(`${e.node_id}-titleInput`).focus()})}function i(d){return y(this,null,function*(){const a=l.nodes.findIndex(n=>n.node_id===d)+1,e=G();a!==-1&&l.nodes.splice(a,0,e),yield K(),document.getElementById(`${e.node_id}-titleInput`).focus()})}function h(d,a){return y(this,null,function*(){const e=l.nodes.findIndex(s=>s.node_id===d);let n=null;if(l.nodes.length>1)e===0?n=l.nodes[e+1].node_id:n=l.nodes[e-1].node_id,document.getElementById(`${n}-titleInput`).focus();else if(l.nodes.length===1)try{document.getElementById(`${a}-titleInput`).focus()}catch(s){console.log(`couldn't focus parent node: ${s}`)}yield new Promise(s=>{setTimeout(()=>{l.nodes.splice(e,1),s()},152)})})}return(d,a)=>(v(),g("ul",{class:H(["flex list-none flex-col",{"child-node":d.nodeType==="child","root-node":d.nodeType==="root"}])},[(v(!0),g(le,null,se(d.nodes,e=>(v(),S(R(je),{key:e.node_id,node:e,"parent-node-id":d.parentNodeId,"hide-uncontrollable":d.hideUncontrollable,"logged-in":d.loggedIn,"node-type":d.nodeType,"single-node-left":r.value,"parent-node-locked":d.parentNodeLocked||e.locked,onChildBtnHandler:a[0]||(a[0]=n=>p(n)),onDeleteBtnHandler:a[1]||(a[1]=n=>h(n,d.parentNodeId)),onSiblingBtnHandler:a[2]||(a[2]=n=>i(n))},null,40,["node","parent-node-id","hide-uncontrollable","logged-in","node-type","single-node-left","parent-node-locked"]))),128))],2))}}),Ze={class:"my-2 flex justify-between"},Ve=["textContent"],Oe=["textContent"],De={key:0,class:"h-7 w-7",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-label":"Delete Tree"},Ue=t("path",{d:"m18 6-.8 12.013c-.071 1.052-.106 1.578-.333 1.977a2 2 0 0 1-.866.81c-.413.2-.94.2-1.995.2H9.994c-1.055 0-1.582 0-1.995-.2a2 2 0 0 1-.866-.81c-.227-.399-.262-.925-.332-1.977L6 6M4 6h16m-4 0-.27-.812c-.263-.787-.394-1.18-.637-1.471a2 2 0 0 0-.803-.578C13.938 3 13.524 3 12.694 3h-1.388c-.829 0-1.244 0-1.596.139a2 2 0 0 0-.803.578c-.243.29-.374.684-.636 1.471L8 6",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Re=[Ue],Pe={key:1,class:"h-7 w-7 fill-warning",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Fe=t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.5 12a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Zm1.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9.75 1.5V8.25h1.5v5.25h-1.5Zm0 2.25v-1.5h1.5v1.5h-1.5Z"},null,-1),ze=[Fe],Ye={key:2,class:"h-7 w-7 animate-spin",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Je=t("path",{d:"M20 12a8 8 0 0 1-11.76 7.061",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),We=[Je],Ke=P({__name:"TreeListItemComponent",props:{tree:{},lastRemainingTree:{type:Boolean},selectedTreeId:{},loggedIn:{type:Boolean}},emits:["selectTree","deleteTree"],setup(u,{emit:l}){const r=u,p=k(!1),i=k(!1),h=k(!1);function d(e){return y(this,null,function*(){h.value?(yield a(e),h.value=!1):(h.value=!0,setTimeout(()=>{h.value=!1},2e3))})}function a(e){return y(this,null,function*(){i.value=!0,(yield xe(e,r.loggedIn))===204?(p.value=!0,yield new Promise(s=>{setTimeout(()=>{l("deleteTree",e),s()},152)})):i.value=!1})}return(e,n)=>(v(),S(oe,null,{default:B(()=>[T(t("li",Ze,[t("a",{href:"#",class:H(["flex flex-grow flex-col rounded-md px-2 py-2 transition duration-100 ease-out text-textblackdimmer",{"bg-primary text-white":e.tree.tree_id===e.selectedTreeId,"hover:bg-primarylight hover:text-black":e.tree.tree_id!==e.selectedTreeId}]),onClick:n[0]||(n[0]=s=>l("selectTree",e.tree.tree_id))},[t("span",{textContent:ee(e.tree.tree_name)},null,8,Ve),e.loggedIn?(v(),g("div",{key:0,class:H(["text-xs text-textblackdimmer2",{"text-textwhitedimmer2":e.tree.tree_id===e.selectedTreeId}]),textContent:ee(`${ue(e.tree.date_modified)}`)},null,10,Oe)):A("",!0)],2),T(t("button",{class:"mx-3 items-center rounded-md px-2 py-2 transition duration-100 ease-out text-textblackdimmer hover:bg-primarylight hover:text-black",onClick:n[1]||(n[1]=s=>d(e.tree.tree_id))},[M(q,{duration:"50"},{default:B(()=>[!i.value&&!h.value?(v(),g("svg",De,Re)):h.value?(v(),g("svg",Pe,ze)):i.value?(v(),g("svg",Ye,We)):A("",!0)]),_:1})],512),[[I,!e.lastRemainingTree]])],512),[[I,!p.value]])]),_:1}))}}),qe={class:"mx-auto my-2 w-full overflow-x-hidden px-4"},Ge=t("div",{class:"text-4xl text-center font-semibold text-textblackdimmer mt-8"}," Anxiety ",-1),Xe={class:"flex h-full w-full flex-col items-center gap-y-10 lg:flex-row lg:items-start lg:gap-x-5"},Qe={class:"mt-8 w-full rounded-md bg-white px-3 py-2 shadow-lg sm:mb-10 ring-1 ring-opacity-5 ring-primarylight focus:outline-none lg:w-96"},et={class:"divide-y divide-solid divide-primarylight"},tt={key:0,class:"flex gap-x-3"},nt=t("svg",{class:"h-6 w-6",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M30 28c0 1.1-.896 2-2 2H4c-1.104 0-2-.9-2-2V4c0-1.1.896-2 2-2h24c1.104 0 2 .9 2 2v24ZM28 0H4a4 4 0 0 0-4 4v24a4 4 0 0 0 4 4h24a4 4 0 0 0 4-4V4a4 4 0 0 0-4-4Zm-6 15h-5v-5c0-.55-.448-1-1-1s-1 .45-1 1v5h-5c-.552 0-1 .45-1 1s.448 1 1 1h5v5c0 .55.448 1 1 1s1-.45 1-1v-5h5c.552 0 1-.45 1-1s-.448-1-1-1Z",fill:"currentColor","fill-rule":"evenodd"})],-1),ot=t("span",null," Create new ",-1),lt=[nt,ot],st={key:1,class:"h-6 w-6animate-spin",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},rt=t("path",{d:"M20 12a8 8 0 0 1-11.76 7.061",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),it=[rt],at={key:2},dt=t("div",{class:"text-danger"},"Maximum number of trees reached",-1),ut=t("div",null," This limit is just to prevent spam. You're awesome for reaching this limit! Please do contact me if you'd like to have more trees at once! ",-1),ct=[dt,ut],vt={class:"max-h-80 list-none overflow-y-scroll sm:max-h-96"},mt={class:"mx-auto flex w-full flex-col gap-y-6 text-textblackdim lg:my-8 lg:px-6"},pt={class:"flex flex-col gap-y-3 sm:flex-row sm:justify-between"},ht={class:"flex text-textblackdim"},ft={class:"mx-1 flex items-center gap-x-1 sm:mx-4"},gt={class:"relative text-textblackdimmer"},wt={key:0,class:"h-8 w-8 animate-spin",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},xt=t("path",{d:"M14.393 5.374c3.632 1.332 5.505 5.378 4.183 9.038a7.008 7.008 0 0 1-5.798 4.597m0 0 1.047-1.754m-1.047 1.754 1.71.991m-4.881-1.374c-3.632-1.332-5.505-5.378-4.183-9.038a7.008 7.008 0 0 1 5.798-4.597m0 0-1.047 1.754m1.047-1.754L9.512 4","stroke-width":"1.5",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),_t=[xt],yt={key:1,class:"h-8 w-8",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},kt=t("path",{d:"M16.5 5.385a8 8 0 0 1-5.707 14.525M13.16 4.083A8 8 0 0 0 7.405 18.55M13.16 4.083 12.5 3m.66 1.083L12.5 5m-1.707 14.91.963-.91m-.963.91L11.5 21M9 12l2 2 4-4","stroke-width":"1.5",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),bt=[kt],Tt=t("path",{d:"M15.938 6.12A7.135 7.135 0 0 1 19 12c0 3.927-3.134 7.111-7 7.111-.359 0-.711-.027-1.056-.08m2.07-14.068A6.949 6.949 0 0 0 12 4.89c-3.866 0-7 3.184-7 7.111a7.136 7.136 0 0 0 2.979 5.822m5.036-12.859L12.437 4m.578.963-.578.815M10.944 19.03l.843-.809m-.843.809.618.969M12 9v3.5m0 2v.5","stroke-width":"1.5",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Ct=[Tt],Bt={class:"absolute top-0 right-0 mt-14 -ml-32 inline-block w-60 rounded-lg bg-white px-4 py-3 ring-1 ring-opacity-5 text-textblackdim ring-danger focus:outline-none"},It=t("span",{class:"inline-block text-sm leading-tight"},"Couldn't save tree data to your account. If a refresh doesn't solve the issue, please contact the admin.",-1),$t=[It],Mt={class:"relative flex cursor-pointer items-center text-textblackdim hover:text-gray-600"},At={class:"absolute top-0 right-0 mt-14 -ml-32 inline-block w-60 rounded-lg bg-white px-4 py-3 ring-1 ring-opacity-5 text-textblackdim ring-warning focus:outline-none"},Et=t("span",{class:"inline-block text-sm leading-tight"},"Your data has been saved to this device only. Log in to save and access your data from any device.",-1),Nt=[Et],Lt=t("button",null,[t("svg",{class:"h-8 w-8 fill-warning",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.5 12a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Zm1.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9.75 1.5V8.25h1.5v5.25h-1.5Zm0 2.25v-1.5h1.5v1.5h-1.5Z"})])],-1),Ht={class:"flex gap-x-3 text-textblackdim"},St=t("div",null,[t("span",{class:"text-lg text-textblackdim"},"Uncontrollable")],-1),jt={key:0,class:"h-7 w-7",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Zt=t("path",{d:"M4.495 7.44c-.948.678-1.717 1.402-2.306 2.04a3.679 3.679 0 0 0 0 5.04C3.917 16.391 7.19 19 12 19c1.296 0 2.48-.19 3.552-.502l-1.662-1.663A10.77 10.77 0 0 1 12 17c-4.033 0-6.812-2.18-8.341-3.837a1.68 1.68 0 0 1 0-2.326 12.972 12.972 0 0 1 2.273-1.96L4.495 7.442Z"},null,-1),Vt=t("path",{d:"M8.533 11.478a3.5 3.5 0 0 0 3.983 3.983l-3.983-3.983ZM15.466 12.447l-3.919-3.919a3.5 3.5 0 0 1 3.919 3.919Z"},null,-1),Ot=t("path",{d:"M18.112 15.093a12.99 12.99 0 0 0 2.23-1.93 1.68 1.68 0 0 0 0-2.326C18.811 9.18 16.032 7 12 7c-.64 0-1.25.055-1.827.154L8.505 5.486A12.623 12.623 0 0 1 12 5c4.811 0 8.083 2.609 9.81 4.48a3.679 3.679 0 0 1 0 5.04c-.58.629-1.334 1.34-2.263 2.008l-1.435-1.435ZM2.008 3.422a1 1 0 1 1 1.414-1.414L22 20.586A1 1 0 1 1 20.586 22L2.008 3.422Z"},null,-1),Dt=[Zt,Vt,Ot],Ut={key:1,class:"h-7 w-7",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Rt=t("path",{d:"M11.994 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm0-2.006a1.494 1.494 0 1 1 0-2.988 1.494 1.494 0 0 1 0 2.988Z"},null,-1),Pt=t("path",{d:"M12 5C7.189 5 3.917 7.609 2.19 9.48a3.679 3.679 0 0 0 0 5.04C3.916 16.391 7.188 19 12 19c4.811 0 8.083-2.609 9.81-4.48a3.679 3.679 0 0 0 0-5.04C20.084 7.609 16.812 5 12 5Zm-8.341 5.837C5.189 9.18 7.967 7 12 7c4.033 0 6.812 2.18 8.341 3.837a1.68 1.68 0 0 1 0 2.326C18.811 14.82 16.033 17 12 17c-4.033 0-6.812-2.18-8.341-3.837a1.68 1.68 0 0 1 0-2.326Z"},null,-1),Ft=[Rt,Pt],zt={class:"mb-40 w-full sm:mb-10 lg:mb:20"},Y=150,Yt=P({__name:"App",setup(u){const l=JSON.parse(document.getElementById("logged-in").textContent),r=ce("tree-store",{trees:[X()]});let p=me.SYNC_TIMER_DURATION_MS;const i=k([]);let h=null;const d=k("synced"),a=k(0),e=k(!1),n=k(!1),s=k(!1),w=k(!1);x();function x(){l?(i.value=JSON.parse(document.getElementById("user-trees").textContent),z()):i.value=r.value.trees}const N=U(()=>i.value.length===1),V=U(()=>i.value[a.value].tree_id),j=U(()=>i.value.length);window.addEventListener("beforeunload",function(m){if(l&&d.value==="syncing"){const o="You have unsaved changes. Are you sure you want to leave?";return m.returnValue=o,o}});function L(m){const o=i.value[m];ve(o,(c,O)=>{d.value="syncing",h&&clearTimeout(h),h=setTimeout(()=>y(this,null,function*(){(yield we(o,l))===200?d.value="synced":d.value="failed"}),p)})}function z(){for(const m in i.value)L(m)}function f(m){const o=i.value.findIndex(c=>c.tree_id===m);o!==-1&&L(o.toString())}function _(m){const o=i.value.findIndex(c=>c.tree_id===m);o!==-1&&a.value!=o&&(a.value=o)}function b(m){return y(this,null,function*(){if(j.value<Y){w.value=m;const o=yield ge(m),c=X(o);i.value.splice(0,0,c),m&&f(o),w.value=!1}})}function $(m){return y(this,null,function*(){const o=i.value.findIndex(c=>c.tree_id===m);o!==-1&&(a.value,a.value=0,i.value.splice(o,1))})}function C(m){m.target.blur()}return(m,o)=>(v(),g("div",qe,[Ge,t("div",Xe,[t("div",Qe,[t("div",et,[t("div",null,[t("button",{class:"my-2 rounded-md px-2 py-2 transition duration-100 ease-out text-textblackdimmer hover:bg-primarylight hover:text-black",onClick:o[0]||(o[0]=c=>b(Z(l)))},[M(q,{duration:"50"},{default:B(()=>[!w.value&&j.value<Y?(v(),g("div",tt,lt)):w.value?(v(),g("svg",st,it)):j.value>=Y?(v(),g("div",at,ct)):A("",!0)]),_:1})])]),t("ul",vt,[(v(!0),g(le,null,se(i.value,c=>(v(),S(R(Ke),{key:c.tree_id,tree:c,"selected-tree-id":V.value,"last-remaining-tree":N.value,"logged-in":Z(l),onSelectTree:o[1]||(o[1]=O=>_(O)),onDeleteTree:o[2]||(o[2]=O=>$(O))},null,40,["tree","selected-tree-id","last-remaining-tree","logged-in"]))),128))])])]),t("div",mt,[t("div",pt,[t("div",ht,[T(t("input",{class:"rounded px-5 py-2 shadow-lg ring-1 ring-opacity-5 transition duration-100 ease-out bg-backg ring-primarylight focus:outline-none",id:"selected-tree-name-input",type:"text",maxlength:"22","onUpdate:modelValue":o[3]||(o[3]=c=>i.value[a.value].tree_name=c),onKeydown:o[4]||(o[4]=J(W(c=>C(c),["exact","prevent","stop"]),["enter"]))},null,544),[[ne,i.value[a.value].tree_name]])]),t("div",ft,[t("div",gt,[M(q,null,{default:B(()=>[d.value==="syncing"?(v(),g("svg",wt,_t)):d.value==="synced"?(v(),g("svg",yt,bt)):d.value==="failed"?(v(),g("svg",{key:2,onMouseover:o[5]||(o[5]=c=>s.value=!0),onMouseleave:o[6]||(o[6]=c=>s.value=!1),class:"h-8 w-8 text-danger",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ct,32)):A("",!0)]),_:1}),M(D,{duration:"150"},{default:B(()=>[T(t("div",Bt,$t,512),[[I,d.value==="failed"&&s.value]])]),_:1})]),T(t("div",{class:"text-textblackdim",onMouseover:o[7]||(o[7]=c=>n.value=!0),onMouseleave:o[8]||(o[8]=c=>n.value=!1)},[t("div",Mt,[M(D,{duration:"150"},{default:B(()=>[T(t("div",At,Nt,512),[[I,n.value]])]),_:1}),Lt])],544),[[I,!Z(l)]])])]),t("div",Ht,[St,t("button",{class:"transition duration-100 ease-out fill-textblackdimmer hover:fill-black",onClick:o[9]||(o[9]=c=>e.value=!e.value)},[M(D,null,{default:B(()=>[e.value?(v(),g("svg",jt,Dt)):e.value?A("",!0):(v(),g("svg",Ut,Ft))]),_:1})])]),t("div",zt,[T((v(),S(R(re),{nodes:i.value[a.value].tree_data,"logged-in":Z(l),"hide-uncontrollable":e.value,"node-type":"root","parent-node-id":"root"},null,8,["nodes","logged-in","hide-uncontrollable"])),[[I,i.value.length!==0&&i.value[a.value]]])])])])]))}});var Jt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Wt(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var ie={exports:{}};(function(u,l){(function(r,p){u.exports=p()})(Jt,function(){var r="__v-click-outside",p=typeof window!="undefined",i=typeof navigator!="undefined",h=p&&("ontouchstart"in window||i&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"],d=function(s){var w=s.event,x=s.handler;(0,s.middleware)(w)&&x(w)},a=function(s,w){var x=function(f){var _=typeof f=="function";if(!_&&typeof f!="object")throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:_?f:f.handler,middleware:f.middleware||function(b){return b},events:f.events||h,isActive:f.isActive!==!1,detectIframe:f.detectIframe!==!1,capture:!!f.capture}}(w.value),N=x.handler,V=x.middleware,j=x.detectIframe,L=x.capture;if(x.isActive){if(s[r]=x.events.map(function(f){return{event:f,srcTarget:document.documentElement,handler:function(_){return function(b){var $=b.el,C=b.event,m=b.handler,o=b.middleware,c=C.path||C.composedPath&&C.composedPath();(c?c.indexOf($)<0:!$.contains(C.target))&&d({event:C,handler:m,middleware:o})}({el:s,event:_,handler:N,middleware:V})},capture:L}}),j){var z={event:"blur",srcTarget:window,handler:function(f){return function(_){var b=_.el,$=_.event,C=_.handler,m=_.middleware;setTimeout(function(){var o=document.activeElement;o&&o.tagName==="IFRAME"&&!b.contains(o)&&d({event:$,handler:C,middleware:m})},0)}({el:s,event:f,handler:N,middleware:V})},capture:L};s[r]=[].concat(s[r],[z])}s[r].forEach(function(f){var _=f.event,b=f.srcTarget,$=f.handler;return setTimeout(function(){s[r]&&b.addEventListener(_,$,L)},0)})}},e=function(s){(s[r]||[]).forEach(function(w){return w.srcTarget.removeEventListener(w.event,w.handler,w.capture)}),delete s[r]},n=p?{beforeMount:a,updated:function(s,w){var x=w.value,N=w.oldValue;JSON.stringify(x)!==JSON.stringify(N)&&(e(s),a(s,{value:x}))},unmounted:e}:{};return{install:function(s){s.directive("click-outside",n)},directive:n}})})(ie);var Kt=ie.exports;const qt=Wt(Kt),ae=pe(Yt);ae.use(qt);ae.mount("#app");
